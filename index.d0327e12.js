class e extends Phaser.Scene{constructor(){super({key:"gameScene"}),this.speed=5,this.score=0}create(){this.createAnimations(),this.createBackground(),this.createCharacter(),this.createGround(),this.createControlKeys(),this.createCamera(),this.createScoreText(),this.createObstacles()}update(){this.moveCharacter()}createAnimations(){[{key:"jump",frames:{start:3,end:3}},{key:"run",frames:{start:0,end:1},repeat:-1},{key:"idle",frames:{start:2,end:2}}].forEach(e=>this.anims.create({key:e.key,frames:this.anims.generateFrameNumbers("tHex",e.frames),frameRate:10,repeat:e.repeat}))}createBackground(){let{width:e,height:t}=this.sys.game.config;this.backgroundImage=this.add.tileSprite(0,0,e,t,"backgroundGame").setOrigin(0,0).setScrollFactor(0).setScale(3160/e,2140/t)}createCharacter(){let{height:e}=this.sys.game.config;this.tHex=this.physics.add.sprite(1080,e-200,"tHex"),this.tHex.setGravityY(800),this.tHex.setScale(.5)}createGround(){let{height:e}=this.sys.game.config;this.grounds=this.physics.add.staticGroup();for(let t=0;t<3;t+=1){let s=this.grounds.create(1080+1080*t,e,"ground");this.physics.add.collider(this.tHex,s)}}createControlKeys(){let e=()=>{this.tHex.body.touching.down&&(this.tHex.setVelocityY(-500),this.tHex.setVelocityX(300),this.isRunning=!0,this.score+=10,this.scoreText.setText(`Score: ${this.score}`),this.tHex.anims.play("jump"))},t=this.input.keyboard.createCursorKeys();t.up.on("down",e),t.space.on("down",e),this.input.on("pointerdown",e)}createCamera(){this.cameras.main.startFollow(this.tHex,!0,.5,.5,0,150)}createScoreText(){this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"32px",fill:"#fff",fontFamily:"MinecraftiaRegular"}).setScrollFactor(0)}createObstacles(){this.obstacles=this.physics.add.group({immovable:!0}),this.time.addEvent({delay:3e3,callback:this.spawnObstacle,callbackScope:this,loop:!0})}moveCharacter(){if(this.isRunning&&(this.tHex.x+=this.speed,this.backgroundImage.tilePositionX=.3*this.cameras.main.scrollX),this.tHex.body.touching.down&&this.tHex.anims.currentAnim&&"jump"===this.tHex.anims.currentAnim.key&&this.tHex.anims.play("run"),this.tHex.x>this.grounds.getChildren()[0].x+1080){this.grounds.getChildren()[0].destroy();let e=this.grounds.create(this.grounds.getChildren()[this.grounds.getChildren().length-1].x+1080,this.sys.game.config.height,"ground");this.physics.add.collider(this.tHex,e)}}spawnObstacle(){let e=Phaser.Math.Between(1,4),t=this.tHex.x+Phaser.Math.Between(1e3,1500),s=Phaser.Math.Between(t,this.tHex.x+3e3);this.physics.world.setBounds(0,0,s+2e3,this.sys.game.config.height);let i=this.obstacles.create(s,this.sys.game.config.height-100,`obstacle${e}`).setScale(.2);i.setDepth(1),i.setCollideWorldBounds(!0),i.setVelocityX(-this.speed),this.physics.add.collider(this.tHex,i,()=>{this.scene.start("gameOver")},null,this),this.grounds.children.iterate(e=>{this.physics.add.collider(i,e)})}}class t extends Phaser.Scene{constructor(){super({key:"gameOver"})}preload(){this.load.image("playAgainButton","https://i.postimg.cc/pXnr4zVQ/4.png"),this.load.image("gameOverPicture","https://i.postimg.cc/13rq7wMC/image.png")}create(){let{width:e,height:t}=this.sys.game.config,s=this.add.image(0,0,"gameOverPicture").setOrigin(0,0);(()=>{let e=this.cameras.main.width/s.width,t=this.cameras.main.height/s.height;s.setScale(e,t).setScrollFactor(0)})();let i=this.add.image(e/2,t/2+100,"playAgainButton").setInteractive().on("pointerdown",this.playAgain.bind(this)).setScale(.4);i.on("pointerover",()=>{i.setScale(.45)}),i.on("pointerout",()=>{i.setScale(.4)})}playAgain(){this.scene.start("gameScene")}}class s extends Phaser.Scene{constructor(){super({key:"authors"})}create(){let e=this.add.image(0,0,"background").setOrigin(0,0);(()=>{if(this.cameras.main){let t=this.cameras.main.width/e.width,s=this.cameras.main.height/e.height,i=Math.max(t,s);e.setScale(i).setScrollFactor(0)}})();let t=this.add.text(this.cameras.main.centerX,this.cameras.main.height,"Authors:\nKirillov Timofey\nKuchmenko Dmitriy\nEnyaev Boris\nVladimirova Alena\nShebanov Oleg",{fontSize:"70px",fontFamily:"MinecraftiaRegular",align:"center",color:"#ffff00",wordWrap:{width:800,useAdvancedWrap:!0}});t.setOrigin(.5),this.tweens.add({targets:t,y:-t.displayHeight,scaleX:.01,scaleY:.01,duration:6e3,ease:"Linear",onComplete:()=>{this.scene.start("mainMenu")}})}}class i extends Phaser.Scene{constructor(){super({key:"mainMenu"})}preload(){this.load.image("background","https://i.postimg.cc/W1j6zxMm/wallpaperbetter-com-3840x2160-3.jpg"),this.load.image("logo","https://i.postimg.cc/8Cn1XJDy/image.png"),this.load.image("defaultPlayButtonImage","https://i.postimg.cc/154HV439/11.png"),this.load.image("defaultAutorButtonImage","https://i.postimg.cc/fRKLWdbT/author-Button.png"),this.load.image("playAgainButton","https://i.postimg.cc/pXnr4zVQ/4.png"),this.load.image("gameOverPicture","https://i.postimg.cc/13rq7wMC/image.png"),this.load.image("backgroundGame","https://i.postimg.cc/ncCJCFZ6/wallpaperbetter-com-3840x2160-1.jpg"),this.load.spritesheet("tHex","https://i.postimg.cc/NM746MZ3/big-sprites-copy.png",{frameWidth:243,frameHeight:370}),this.load.image("ground","https://i.postimg.cc/8c9BWznw/ground.png"),this.load.image("obstacle1","https://i.postimg.cc/ZRfh2H7N/car.png"),this.load.image("obstacle2","https://i.postimg.cc/zXH12nnL/container.png"),this.load.image("obstacle3","https://i.postimg.cc/Zn9XgSyk/mahina.png"),this.load.image("obstacle4","https://i.postimg.cc/X7krqSzc/trash-ready.png")}create(){let{width:e,height:t}=this.sys.game.config;this.background=this.add.image(0,0,"background").setOrigin(0,0),this.logo=this.add.image(e/2,t/2-130,"logo"),this.scale.on("resize",this.resizeImages.bind(this)),this.resizeImages(),this.createButton("defaultPlayButtonImage",t/2+50,"gameScene"),this.createButton("defaultAutorButtonImage",t/2+160,"authors")}resizeImages(){this.resizeImage(this.background),this.resizeLogo(this.logo,this.sys.game.config.width)}resizeImage(e){if(this.cameras.main){let t=this.cameras.main.width/e.width,s=this.cameras.main.height/e.height,i=Math.max(t,s);e.setScale(i).setScrollFactor(0)}}resizeLogo(e,t){e.setScale(t/1300)}createButton(e,t,s){let{width:i,height:a}=this.sys.game.config,r=this.add.image(i/2,t,e).setInteractive().on("pointerdown",()=>this.startScene(s));r.on("pointerover",()=>{r.setScale(1.05)}),r.on("pointerout",()=>{r.setScale(1)})}startScene(e){console.log(`Starting scene: ${e}...`),this.scene.start(e)}}const a={type:Phaser.AUTO,scale:{mode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH,width:window.innerWidth,height:window.innerHeight},scene:[i,t,e,s],physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}}};new Phaser.Game(a);
//# sourceMappingURL=index.d0327e12.js.map
