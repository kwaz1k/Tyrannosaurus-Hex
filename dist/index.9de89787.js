const t=new Phaser.Class({Extends:Phaser.Scene,initialize:function(){Phaser.Scene.call(this,{key:"gameScene"})},preload(){},create(){this.anims.create({key:"jump",frames:this.anims.generateFrameNumbers("tHex",{start:3,end:3}),frameRate:10}),this.anims.create({key:"run",frames:this.anims.generateFrameNumbers("tHex",{start:0,end:1}),frameRate:10,repeat:-1}),this.anims.create({key:"idle",frames:this.anims.generateFrameNumbers("tHex",{start:2,end:2}),frameRate:10});let{width:t,height:e}=this.sys.game.config;this.backgroundImage=this.add.tileSprite(0,0,this.sys.game.config.width,this.sys.game.config.height,"backgroundGame").setOrigin(0,0).setScrollFactor(0).setScale(3160/t,2140/e),this.tHex=this.physics.add.sprite(1080,this.sys.game.config.height-200,"tHex"),this.grounds=this.physics.add.staticGroup();for(let t=0;t<3;t+=1){let e=this.grounds.create(1080+1080*t,this.sys.game.config.height,"ground");this.physics.add.collider(this.tHex,e)}this.tHex.setGravityY(800),this.tHex.setScale(.5);let i=this.input.keyboard.createCursorKeys(),s=()=>{this.tHex.body.touching.down&&(this.tHex.setVelocityY(-500),this.tHex.setVelocityX(300),this.isRunning=!0,this.score+=10,this.scoreText.setText(`Score: ${this.score}`),this.tHex.anims.play("jump"))};i.up.on("down",s),i.space.on("down",s),this.input.on("pointerdown",s),this.speed=5,this.isRunning=!1,this.cameras.main.startFollow(this.tHex,!0,.5,.5,0,150),this.score=0,this.scoreText=this.add.text(16,16,"Score: 0",{fontSize:"32px",fill:"#fff",fontFamily:"MinecraftiaRegular"}).setScrollFactor(0),this.obstacles=this.physics.add.group({immovable:!0}),this.time.addEvent({delay:3e3,callback:this.spawnObstacle,callbackScope:this,loop:!0}),this.update=()=>{if(this.isRunning&&(this.tHex.x+=this.speed,this.backgroundImage.tilePositionX=.3*this.cameras.main.scrollX),this.tHex.body.touching.down&&this.tHex.anims.currentAnim&&"jump"===this.tHex.anims.currentAnim.key&&this.tHex.anims.play("run"),this.tHex.x>this.grounds.getChildren()[0].x+1080){this.grounds.getChildren()[0].destroy();let t=this.grounds.create(this.grounds.getChildren()[this.grounds.getChildren().length-1].x+1080,this.sys.game.config.height,"ground");this.physics.add.collider(this.tHex,t)}}},spawnObstacle(){let t=Phaser.Math.Between(1,4),e=this.tHex.x+Phaser.Math.Between(1e3,1500),i=Phaser.Math.Between(e,this.tHex.x+3e3);this.physics.world.setBounds(0,0,i+2e3,this.sys.game.config.height);let s=this.obstacles.create(i,this.sys.game.config.height-100,`obstacle${t}`).setScale(.2);s.setDepth(1),s.setCollideWorldBounds(!0),s.setVelocityX(-this.speed),this.physics.add.collider(this.tHex,s,()=>{this.scene.start("gameOver")},null,this),this.grounds.children.iterate(t=>{this.physics.add.collider(s,t)})}}),e=new Phaser.Class({Extends:Phaser.Scene,initialize:function(){Phaser.Scene.call(this,{key:"gameOver"})},preload(){this.load.image("playAgainButton","https://i.postimg.cc/pXnr4zVQ/4.png"),this.load.image("gameOverPicture","https://i.postimg.cc/13rq7wMC/image.png")},create(){let{width:t}=this.sys.game.config,{height:e}=this.sys.game.config,i=this.add.image(0,0,"gameOverPicture").setOrigin(0,0);(()=>{let t=this.cameras.main.width/i.width,e=this.cameras.main.height/i.height;i.setScale(t,e).setScrollFactor(0)})();let s=this.add.image(t/2,e/2+100,"playAgainButton").setInteractive().on("pointerdown",(function(){this.scene.start("gameScene")}).bind(this)).setScale(.4);s.on("pointerover",()=>{s.setScale(.45)}),s.on("pointerout",()=>{s.setScale(.4)})}}),i={type:Phaser.AUTO,scale:{mode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH,width:window.innerWidth,height:window.innerHeight},scene:[{preload:function(){this.load.image("background","https://i.postimg.cc/W1j6zxMm/wallpaperbetter-com-3840x2160-3.jpg"),this.load.image("logo","https://i.postimg.cc/8Cn1XJDy/image.png"),this.load.image("defaultPlayButtonImage","https://i.postimg.cc/154HV439/11.png"),this.load.image("defaultAutorButtonImage","https://i.postimg.cc/fRKLWdbT/author-Button.png"),this.load.image("playAgainButton","https://i.postimg.cc/pXnr4zVQ/4.png"),this.load.image("gameOverPicture","https://i.postimg.cc/13rq7wMC/image.png"),this.load.image("backgroundGame","https://i.postimg.cc/ncCJCFZ6/wallpaperbetter-com-3840x2160-1.jpg"),this.load.spritesheet("tHex","https://i.postimg.cc/NM746MZ3/big-sprites-copy.png",{frameWidth:243,frameHeight:370}),this.load.image("ground","https://i.postimg.cc/8c9BWznw/ground.png"),this.load.image("obstacle1","https://i.postimg.cc/ZRfh2H7N/car.png"),this.load.image("obstacle2","https://i.postimg.cc/zXH12nnL/container.png"),this.load.image("obstacle3","https://i.postimg.cc/Zn9XgSyk/mahina.png"),this.load.image("obstacle4","https://i.postimg.cc/X7krqSzc/trash-ready.png")},create:function(){let{width:t}=this.sys.game.config,{height:e}=this.sys.game.config,i=this.add.image(0,0,"background").setOrigin(0,0),s=this.add.image(t/2,e/2-130,"logo"),a=()=>{if(this.cameras.main){let t=this.cameras.main.width/i.width,e=this.cameras.main.height/i.height,s=Math.max(t,e);i.setScale(s).setScrollFactor(0)}},h=()=>{let e=t/1300;s.setScale(e)};a(),h(),this.scale.on("resize",()=>{a(),h()});let n=this.add.image(t/2,e/2+50,"defaultPlayButtonImage").setInteractive().on("pointerdown",(function(){console.log("Игра начинается..."),this.scene.start("gameScene")}).bind(this));n.on("pointerover",()=>{n.setScale(1.05)}),n.on("pointerout",()=>{n.setScale(1)});let o=this.add.image(t/2,e/2+160,"defaultAutorButtonImage").setInteractive().on("pointerdown",()=>void console.log("Открытие титров..."));o.on("pointerover",()=>{o.setScale(1.05)}),o.on("pointerout",()=>{o.setScale(1)})}},e,t],physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}}};new Phaser.Game(i);
//# sourceMappingURL=index.9de89787.js.map
